<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.7.8 Chrome/128.0.6613.36 Electron/32.0.1 Safari/537.36" version="24.7.8">
  <diagram name="Page-1" id="x_yUBcDaueEgeCJWjbzD">
    <mxGraphModel dx="3356" dy="1402" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="d913A8u-sMoJ_iQ9bTx--52" value="Phase1.&lt;div&gt;Collalteral Routing&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Activities prior actual processing&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;width=120;height=90;align=left;" vertex="1" parent="1">
          <mxGeometry x="-50" y="170" width="810" height="390" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--1" value="Leader" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="230" y="120" width="100" height="1790" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--7" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--1">
          <mxGeometry x="40" y="80" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--17" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--1">
          <mxGeometry x="40" y="150" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--32" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--1">
          <mxGeometry x="40" y="210" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--42" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--1">
          <mxGeometry x="40" y="340" width="10" height="90" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--54" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--1">
          <mxGeometry x="40" y="500" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--53" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--1">
          <mxGeometry x="40" y="580" width="10" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--104" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--1">
          <mxGeometry x="40" y="1080" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--2" value="Chain" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="440" y="120" width="100" height="1790" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--9" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="40" y="90" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--15" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="40" y="150" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--33" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="40" y="210" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--35" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="-170" y="270" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--36" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="40" y="270" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--37" value="Collateral move intent" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="d913A8u-sMoJ_iQ9bTx--2" source="d913A8u-sMoJ_iQ9bTx--35" target="d913A8u-sMoJ_iQ9bTx--36">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-150" y="320" as="sourcePoint" />
            <mxPoint x="40" y="320" as="targetPoint" />
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="-40" y="270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--40" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="40" y="330" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--55" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="40" y="500" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--57" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="45" y="560" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--75" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="40" y="640" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--105" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="40" y="1091" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--142" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="40" y="390" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--149" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--2">
          <mxGeometry x="40" y="1610" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--3" value="Guardian" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="640" y="120" width="100" height="1790" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--19" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--3">
          <mxGeometry x="40" y="100" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--27" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--3">
          <mxGeometry x="40" y="160" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--38" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--3">
          <mxGeometry x="40" y="280" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--58" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--3">
          <mxGeometry x="40" y="510" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--106" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--3">
          <mxGeometry x="40" y="1106" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--143" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="d913A8u-sMoJ_iQ9bTx--3">
          <mxGeometry x="40" y="400" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--4" value="" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};participant=umlActor;" vertex="1" parent="1">
          <mxGeometry x="80" y="120" width="20" height="1790" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--8" value="New Order (FIX Json)" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;curved=0;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" target="d913A8u-sMoJ_iQ9bTx--7" parent="1" source="d913A8u-sMoJ_iQ9bTx--4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="200" y="205" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="220" y="200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--26" value="Index order event" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="220" as="sourcePoint" />
            <mxPoint x="680" y="220" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--30" value="Record collateral management" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--17" target="d913A8u-sMoJ_iQ9bTx--15">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="290" y="330" as="sourcePoint" />
            <mxPoint x="480" y="330" as="targetPoint" />
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="400" y="270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--31" value="Record index order" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--7" target="d913A8u-sMoJ_iQ9bTx--9">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="370" y="190" as="sourcePoint" />
            <mxPoint x="480" y="220" as="targetPoint" />
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="360" y="210" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--28" value="Collateral management event&lt;div&gt;&lt;i&gt;&lt;b&gt;&lt;font color=&quot;#990099&quot;&gt;(carries prices for which&lt;/font&gt;&lt;/b&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;b&gt;&lt;font color=&quot;#990099&quot;&gt;computation has been made)&lt;/font&gt;&lt;/b&gt;&lt;/i&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--15" target="d913A8u-sMoJ_iQ9bTx--27">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="290" as="sourcePoint" />
            <mxPoint x="680" y="290" as="targetPoint" />
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="610" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--34" value="Read routing table" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--32" target="d913A8u-sMoJ_iQ9bTx--33">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="290" y="380" as="sourcePoint" />
            <mxPoint x="480" y="380" as="targetPoint" />
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="400" y="330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--39" value="Collateral move intent event" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" target="d913A8u-sMoJ_iQ9bTx--38" source="d913A8u-sMoJ_iQ9bTx--36">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="400" as="sourcePoint" />
            <mxPoint x="680" y="410" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--41" value="Collateral move approve&lt;div&gt;&lt;i&gt;(1 out of N signatures)&lt;/i&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--38" target="d913A8u-sMoJ_iQ9bTx--40">
          <mxGeometry x="-0.0526" width="80" relative="1" as="geometry">
            <mxPoint x="570" y="500" as="sourcePoint" />
            <mxPoint x="690" y="410" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--43" value="Collateral move approved event&lt;br&gt;&lt;i&gt;(1 our of N signatures)&lt;/i&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--40" target="d913A8u-sMoJ_iQ9bTx--42">
          <mxGeometry x="-0.1" y="-5" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="490" as="sourcePoint" />
            <mxPoint x="300" y="490" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--47" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--44" target="d913A8u-sMoJ_iQ9bTx--19">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="760" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--44" value="Here we record the fact that Index Order was received" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="140" width="170" height="65" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--49" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--48" target="d913A8u-sMoJ_iQ9bTx--27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--48" value="Here we record the fact that Leader will want to route collateral. We know the market data from this message." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="230" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--51" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--50" target="d913A8u-sMoJ_iQ9bTx--38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--50" value="Here Leader is sending an Intent of collateral routing. We know all details (order, market data used) of the order from previous messages, and now we can approve based no that information. We sign to approve, and given there is multiple Guardians, there will be multiple signatures. Smart-contract could concat signatures from multiple approve calls.&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;By approving this, we permit Leader to move collateral.&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="350" width="340" height="150" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--56" value="Pre-Auth intent" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--54" target="d913A8u-sMoJ_iQ9bTx--55">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="290" y="650" as="sourcePoint" />
            <mxPoint x="480" y="650" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--59" value="Pre-auth intent event" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--55" target="d913A8u-sMoJ_iQ9bTx--58">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="610" as="sourcePoint" />
            <mxPoint x="680" y="620" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--60" value="Collateral pre-auth approve&lt;div&gt;&lt;i&gt;(1 out of N signatures)&lt;/i&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--58" target="d913A8u-sMoJ_iQ9bTx--57">
          <mxGeometry x="-0.0526" width="80" relative="1" as="geometry">
            <mxPoint x="570" y="710" as="sourcePoint" />
            <mxPoint x="690" y="620" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--61" value="Collateral pre-auth approved event&lt;br&gt;&lt;i&gt;(1 our of N signatures)&lt;/i&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--57" target="d913A8u-sMoJ_iQ9bTx--53">
          <mxGeometry x="-0.1" y="-5" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="700" as="sourcePoint" />
            <mxPoint x="300" y="700" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--63" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--62" target="d913A8u-sMoJ_iQ9bTx--58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--62" value="Here Leader is sending an Intent of using routed collateral for trading. We verify the intent, we have order details, and we know amount collateral routed, so we can approve.&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;By approving this, we permit Leader to engage in trading up to agreed amount.&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="590" width="340" height="110" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--76" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="680" y="770" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--77" value="Index order collateral&lt;div&gt;state update event&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--75" target="d913A8u-sMoJ_iQ9bTx--76">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="750" as="sourcePoint" />
            <mxPoint x="680" y="750" as="targetPoint" />
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="600" y="770" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--78" value="Record index order&lt;div&gt;collateral state update&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--53" target="d913A8u-sMoJ_iQ9bTx--75">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="280" y="745" as="sourcePoint" />
            <mxPoint x="750" y="790" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--81" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--79" target="d913A8u-sMoJ_iQ9bTx--76">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--79" value="Here we record the fact that collateral for Index Order was routed" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="742.5" width="170" height="65" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--82" value="Phase 2.&lt;div&gt;Pre-Auth&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Entry Barrier&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;width=120;height=80;align=left;" vertex="1" parent="1">
          <mxGeometry x="-50" y="580" width="810" height="240" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--83" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="270" y="920" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--84" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="480" y="920" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--85" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="680" y="940" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--86" value="Index order engagement&lt;div&gt;state update event&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;i&gt;&lt;font color=&quot;#990099&quot;&gt;(carries prices for which&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;i&gt;&lt;font color=&quot;#990099&quot;&gt;computation was made)&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="940" as="sourcePoint" />
            <mxPoint x="680" y="940" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--87" value="Record index order&lt;div&gt;engagement state update&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--83" target="d913A8u-sMoJ_iQ9bTx--84">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="640" y="950" as="sourcePoint" />
            <mxPoint x="750" y="980" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--88" value="Here we record the fact that Index Order was engaged by Solver" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="920" width="170" height="65" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--89" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--88" target="d913A8u-sMoJ_iQ9bTx--85">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--90" value="For each: Index Order in the Batch (single aggregated call)" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;width=350;height=20;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="120" y="860" width="610" height="140" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--91" value="Phase 3.&lt;div&gt;Batch Creation&lt;/div&gt;&lt;div&gt;(repeated as many&lt;/div&gt;&lt;div&gt;times as many&amp;nbsp;&lt;/div&gt;&lt;div&gt;Batches)&lt;/div&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;width=120;height=90;align=left;" vertex="1" parent="1">
          <mxGeometry x="-50" y="850" width="810" height="270" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--97" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="270" y="1040" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--98" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="480" y="1050" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--99" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="680" y="1060" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--100" value="&lt;div&gt;Resulting batch position event&lt;/div&gt;&lt;div&gt;&lt;i&gt;(carried over lots, matched lots)&lt;/i&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--98" target="d913A8u-sMoJ_iQ9bTx--99">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="460" y="1100" as="sourcePoint" />
            <mxPoint x="650" y="1100" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--101" value="Record batch position&lt;div&gt;after internal match&lt;/div&gt;&lt;div&gt;&lt;i&gt;(carried over lots)&lt;/i&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--97" target="d913A8u-sMoJ_iQ9bTx--98">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="610" y="1110" as="sourcePoint" />
            <mxPoint x="720" y="1140" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--103" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--102" target="d913A8u-sMoJ_iQ9bTx--99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--102" value="Here we record the fact that Batch was created, and internally matched if possible" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="1036.25" width="170" height="77.5" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--107" value="&lt;div&gt;Aggregated external fill&lt;/div&gt;&lt;div&gt;&lt;i&gt;(lots open and matched)&lt;/i&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--105" target="d913A8u-sMoJ_iQ9bTx--106">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="530" y="1240" as="sourcePoint" />
            <mxPoint x="720" y="1240" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--108" value="Record aggregated external fill" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--104" target="d913A8u-sMoJ_iQ9bTx--105">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="680" y="1250" as="sourcePoint" />
            <mxPoint x="790" y="1280" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--111" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--110" target="d913A8u-sMoJ_iQ9bTx--106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--110" value="Here we record the fact that Batch was complete and some orders got some lots allocated" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="1202.25" width="170" height="77.5" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--112" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="270" y="1334.75" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--113" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="480" y="1340" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--114" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="680" y="1350" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--115" value="Index order fill rate update event" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--113" target="d913A8u-sMoJ_iQ9bTx--114">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="1380" as="sourcePoint" />
            <mxPoint x="680" y="1380" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--116" value="Record index order&lt;div&gt;fill&amp;nbsp;rate update&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--112" target="d913A8u-sMoJ_iQ9bTx--113">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="640" y="1390" as="sourcePoint" />
            <mxPoint x="750" y="1420" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--117" value="For each: Index Order in the Batch (single aggregated call)" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;width=350;height=20;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="120" y="1279.75" width="610" height="140" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--119" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--118" target="d913A8u-sMoJ_iQ9bTx--114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--118" value="Here we record the fact that some index orders were filled" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="1326.25" width="170" height="77.5" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--120" value="Phase 4.&lt;div&gt;Batch Processing&lt;/div&gt;&lt;div&gt;(repeated as many&lt;/div&gt;&lt;div&gt;times as many&amp;nbsp;&lt;/div&gt;&lt;div&gt;Batches)&lt;/div&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;width=120;height=90;align=left;" vertex="1" parent="1">
          <mxGeometry x="-50" y="1160" width="810" height="270" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--121" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="270" y="1535" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--122" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="270" y="1605" width="10" height="165" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--123" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="480" y="1535" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--124" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="480" y="1595" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--125" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="680" y="1545" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--126" value="Confirm intent" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--121" target="d913A8u-sMoJ_iQ9bTx--123">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="290" y="1585" as="sourcePoint" />
            <mxPoint x="480" y="1585" as="targetPoint" />
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="400" y="1535" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--127" value="Confirm intent event" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--123" target="d913A8u-sMoJ_iQ9bTx--125">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="1545" as="sourcePoint" />
            <mxPoint x="680" y="1555" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--128" value="Collateral confirm approve&lt;div&gt;&lt;i&gt;(1 out of N signatures)&lt;/i&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--125" target="d913A8u-sMoJ_iQ9bTx--124">
          <mxGeometry x="-0.0526" width="80" relative="1" as="geometry">
            <mxPoint x="570" y="1645" as="sourcePoint" />
            <mxPoint x="690" y="1555" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--129" value="Collateral confirm approved event&lt;br&gt;&lt;i&gt;(1 our of N signatures)&lt;/i&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--124" target="d913A8u-sMoJ_iQ9bTx--122">
          <mxGeometry x="-0.1" y="-5" width="80" relative="1" as="geometry">
            <mxPoint x="490" y="1635" as="sourcePoint" />
            <mxPoint x="300" y="1635" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--130" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--131" target="d913A8u-sMoJ_iQ9bTx--125">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--131" value="Here Leader is sending an Intent of spending pre-authorised collateral for trading. We verify the intent, we have order details, and we know amount collateral routed, and now we know fills and lots allocated, and we can approve.&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;By approving this, at the same time we also automatically approve minting ITP.&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="1500" width="340" height="135" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--132" value="Phase 6.&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Minting&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Exit Barrier&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;width=120;height=80;align=left;" vertex="1" parent="1">
          <mxGeometry x="-50" y="1470" width="810" height="390" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--134" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="480" y="1654" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--135" value="Mint ITP" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--122" target="d913A8u-sMoJ_iQ9bTx--134">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="270" y="1680" as="sourcePoint" />
            <mxPoint x="470" y="1730" as="targetPoint" />
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="400" y="1660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--141" value="Collateral move commit" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--42" target="d913A8u-sMoJ_iQ9bTx--142">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="290" y="510" as="sourcePoint" />
            <mxPoint x="490" y="510" as="targetPoint" />
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="410" y="510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--144" value="Collateral move commit event" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--142" target="d913A8u-sMoJ_iQ9bTx--143">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="500" y="520" as="sourcePoint" />
            <mxPoint x="690" y="520" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--150" value="Record index order minted state" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--122" target="d913A8u-sMoJ_iQ9bTx--149">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="270" y="1820" as="sourcePoint" />
            <mxPoint x="460" y="1820" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--151" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="680" y="1740" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--152" value="Index order minted&lt;div&gt;state update event&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;i&gt;&lt;font color=&quot;#990099&quot;&gt;(mint invoice)&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--149" target="d913A8u-sMoJ_iQ9bTx--151">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="470" y="1780" as="sourcePoint" />
            <mxPoint x="670" y="1780" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--154" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--153" target="d913A8u-sMoJ_iQ9bTx--151">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--155" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="d913A8u-sMoJ_iQ9bTx--153" target="d913A8u-sMoJ_iQ9bTx--134">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--153" value="Here we mint ITP and we update Index order with its mint invoice" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;spacingLeft=10;spacingBottom=10;spacingTop=10;spacingRight=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="810" y="1654" width="170" height="77.5" as="geometry" />
        </mxCell>
        <mxCell id="d913A8u-sMoJ_iQ9bTx--156" value="Batch Processing is repeated across multiple Index orders. Some orders are complete, some are continued, some come as new at all times.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Batch Processing is a continuous process.&lt;/b&gt;&lt;/div&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;fillColor=#e1d5e7;strokeColor=#9673a6;width=220;height=200;align=left;spacingLeft=4;" vertex="1" parent="1">
          <mxGeometry x="-300" y="840" width="1340" height="610" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
